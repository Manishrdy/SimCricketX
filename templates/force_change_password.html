{% extends "layout.html" %}
{% block title %}Change Password | SimCricketX{% endblock %}
{% block content %}
<div style="max-width: 450px; margin: 3rem auto; padding: 0 1rem;">
    <div style="background: var(--card-bg); border: 1px solid var(--card-border); border-radius: 12px; padding: 2rem;">
        <div style="text-align: center; margin-bottom: 1.5rem;">
            <i class="fas fa-key" style="font-size: 2rem; color: var(--accent); opacity: 0.5;"></i>
            <h2 style="font-size: 1.4rem; font-weight: 700; color: var(--fg); margin: 0.75rem 0 0.25rem;">Password Change Required</h2>
            <p style="font-size: 0.88rem; color: var(--fg-secondary);">An administrator has required you to change your password.</p>
        </div>

        {% if error %}
        <div style="background: rgba(220, 38, 38, 0.08); border: 1px solid rgba(220, 38, 38, 0.3); color: #dc2626; padding: 0.65rem 1rem; border-radius: 8px; font-size: 0.85rem; margin-bottom: 1rem;">
            <i class="fas fa-exclamation-circle"></i> {{ error }}
        </div>
        {% endif %}

        <form method="POST" action="{{ url_for('force_change_password') }}">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
            <div style="margin-bottom: 1rem;">
                <label style="display: block; font-size: 0.85rem; font-weight: 600; color: var(--fg); margin-bottom: 0.35rem;">New Password</label>
                <input type="password" name="new_password" required minlength="8" placeholder="Min 8 characters"
                       style="width: 100%; padding: 0.7rem; border: 1px solid var(--card-border); border-radius: 8px; background: var(--bg); color: var(--fg); font-size: 0.9rem;">
            </div>
            <div style="margin-bottom: 1.25rem;">
                <label style="display: block; font-size: 0.85rem; font-weight: 600; color: var(--fg); margin-bottom: 0.35rem;">Confirm Password</label>
                <input type="password" name="confirm_password" required minlength="8" placeholder="Repeat password"
                       style="width: 100%; padding: 0.7rem; border: 1px solid var(--card-border); border-radius: 8px; background: var(--bg); color: var(--fg); font-size: 0.9rem;">
            </div>
            <button type="submit" style="width: 100%; padding: 0.75rem; background: var(--gradient); color: white; border: none; border-radius: 8px; font-size: 0.9rem; font-weight: 600; cursor: pointer;">
                <i class="fas fa-save"></i> Change Password
            </button>
        </form>
    </div>
</div>
{% endblock %}
